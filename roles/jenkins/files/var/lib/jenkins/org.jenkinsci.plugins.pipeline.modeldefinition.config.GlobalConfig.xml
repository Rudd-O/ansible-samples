<org.jenkinsci.plugins.workflow.libs.GlobalLibraries plugin="workflow-cps-global-lib@2.9">
  <libraries>
{%- if 'sharedLibraries' in jenkins %}
{%-   for x in jenkins.sharedLibraries %}
    <org.jenkinsci.plugins.workflow.libs.LibraryConfiguration>
      <name>{{ x.name }}</name>
      <retriever class="org.jenkinsci.plugins.workflow.libs.SCMSourceRetriever">
        <scm class="jenkins.plugins.git.GitSCMSource" plugin="git@3.9.1">
          <id>{{ x.id }}</id>
          <remote>{{ x.remote }}</remote>
          <credentialsId></credentialsId>
          <traits>
            <jenkins.plugins.git.traits.BranchDiscoveryTrait/>
          </traits>
        </scm>
      </retriever>
      <implicit>false</implicit>
      <allowVersionOverride>true</allowVersionOverride>
      <includeInChangesets>false</includeInChangesets>
    </org.jenkinsci.plugins.workflow.libs.LibraryConfiguration>
{%-   endfor %}
  </libraries>
{%- else %}
  <libraries/>
{%- endif %}
</org.jenkinsci.plugins.workflow.libs.GlobalLibraries>